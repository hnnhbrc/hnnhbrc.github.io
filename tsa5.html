<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background-color: #E6B2BA;
            text-align: center;
        }
        .menu-container, .order-form-container, .customer-info-container {
            background: #FFF7F3;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        .menu-title {
            background-color: #C599B6;
            color: #FFF7F3;
            padding: 10px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 5px;
            display: inline-block;
        }
        .menu-item {
            border: 2px solid #C599B6;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
        }
        .menu-item img {
            width: 200px;
            height: 200px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container text-center">
        <div class="menu-container p-4">
            <div class="menu-title">MENU</div>
            <div class="row mt-4">
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="menu-item">
                        <img src="https://images.yummy.ph/yummy/uploads/2023/03/lumpiangtoguerecipe-closeup.jpg" alt="Lumpiang Togue">
                        <p>Lumpiang Togue ₱15.00</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="menu-item">
                        <img src="https://themayakitchen.com/wp-content/uploads/2020/09/Kwek-%E2%80%93-Kwek-7.jpg" alt="Kwek Kwek">
                        <p>Kwek Kwek ₱5.00</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="menu-item">
                        <img src="https://i.pinimg.com/736x/93/76/50/937650e9710485e7b9457b80067e206f.jpg" alt="Tenga Ng Baboy">
                        <p>Tenga ng baboy ₱20.00</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="menu-item">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlvTuLJsRymZ4b5UDdAKorQRfXGJZ43PzPCw&s" alt="Barbecue">
                        <p>Barbecue ₱30.00</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="customer-info-container">
            <div class="menu-title">Customer Information</div>
            <form>
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="name" placeholder="Enter your name">
                </div>
                <div class="mb-3">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="Enter your address">
                </div>
            </form>
        </div>

        <div class="order-form-container">
            <div class="menu-title">Order Form</div>
            <form id="orderForm">
                <div class="mb-3">
                    <label for="TogueQty" class="form-label">Lumpiang Togue Quantity</label>
                    <input type="number" class="form-control item-quantity" id="TogueQty" data-price="15" placeholder="Enter quantity">
                </div>
                <div class="mb-3">
                    <label for="Kwek KwekQty" class="form-label">Kwek Kwek Quantity</label>
                    <input type="number" class="form-control item-quantity" id="Kwek KwekQty" data-price="5" placeholder="Enter quantity">
                </div>
                <div class="mb-3">
                    <label for="Tenga Ng BaboyQty" class="form-label">Tenga Ng Baboy Quantity</label>
                    <input type="number" class="form-control item-quantity" id="Tenga Ng BaboyQty" data-price="20" placeholder="Enter quantity">
                </div>
                <div class="mb-3">
                    <label for="BarbecueQty" class="form-label">Barbecue Quantity</label>
                    <input type="number" class="form-control item-quantity" id="BarbecueQty" data-price="30" placeholder="Enter quantity">
                </div>
                <div class="mb-3">
                    <label for="amountToPay" class="form-label">Total Amount to Pay</label>
                    <input type="text" class="form-control" id="amountToPay" disabled>
                </div>
                <button type="button" class="btn btn-primary" id="showModalBtn">Proceed to Payment</button>
            </form>
        </div>

        <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="paymentModalLabel">Payment</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>Total Amount:</strong> <span id="modalAmount"></span></p>
                        <div id="customerDetails"></div>
                        <div id="orderSummary"></div>
                        <div class="mb-3">
                            <label for="paymentAmount" class="form-label">Enter Payment</label>
                            <input type="number" class="form-control" id="paymentAmount" placeholder="Enter payment">
                        </div>
                        <p id="changeText" style="display:none;"><strong>Change:</strong> ₱<span id="changeAmount"></span></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" id="calculateChangeBtn">Calculate Change</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        $(document).ready(function(){
            $('.item-quantity').on('input', function(){
                let total = 0;
                $('.item-quantity').each(function(){
                    let quantity = parseInt($(this).val()) || 0;
                    let price = parseInt($(this).data('price'));
                    total += quantity * price;
                });
                $('#amountToPay').val('₱' + total.toFixed(2));
            });
            
            $('#showModalBtn').click(function(){
                const amountToPay = $('#amountToPay').val();
                if (amountToPay) {
                    $('#modalAmount').text(amountToPay);
                    
                    let customerName = $('#name').val();
                    let customerAddress = $('#address').val();
                    let orderDetails = "";
                    
                    $('.item-quantity').each(function(){
                        let quantity = parseInt($(this).val()) || 0;
                        let itemName = $(this).prev('label').text();
                        if (quantity > 0) {
                            orderDetails += `<p>${itemName}: ${quantity}</p>`;
                        }
                    });
                    
                    $('#customerDetails').html(`<p><strong>Name:</strong> ${customerName}</p><p><strong>Address:</strong> ${customerAddress}</p>`);
                    $('#orderSummary').html(orderDetails);
                    $('#paymentModal').modal('show');
                } else {
                    alert('Please enter a valid quantity first.');
                }
            });
            
            $('#calculateChangeBtn').click(function(){
                const payment = parseFloat($('#paymentAmount').val());
                const amountToPay = parseFloat($('#modalAmount').text().replace('₱', ''));
                if (!isNaN(payment) && payment >= amountToPay) {
                    const change = payment - amountToPay;
                    $('#changeAmount').text(change.toFixed(2));
                    $('#changeText').show();
                } else {
                    alert('Insufficient payment. Please enter a valid amount.');
                }
            });
        });
    </script>
</body>
</html>